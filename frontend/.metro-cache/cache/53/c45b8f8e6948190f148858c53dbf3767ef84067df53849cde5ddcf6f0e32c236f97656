{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":73,"index":123}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":59,"index":183}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1]);\n  var _reactNative = require(_dependencyMap[2]);\n  var _expoRouter = require(_dependencyMap[3]);\n  var _reactJsxRuntime = require(_dependencyMap[4]);\n  var EXPO_PUBLIC_BACKEND_URL = \"https://visual-word-match.preview.emergentagent.com\";\n  function AuthCallback() {\n    var hasProcessed = (0, _react.useRef)(false);\n    var _useLocalSearchParams = (0, _expoRouter.useLocalSearchParams)(),\n      session_id = _useLocalSearchParams.session_id;\n    (0, _react.useEffect)(() => {\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      var processOAuthSession = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (!session_id) {\n            console.error('No session_id found');\n            _expoRouter.router.replace('/auth/login');\n            return;\n          }\n          try {\n            var response = yield fetch(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/session`, {\n              method: 'POST',\n              headers: {\n                'X-Session-ID': session_id,\n                'Content-Type': 'application/json'\n              },\n              credentials: 'include'\n            });\n            var data = yield response.json();\n            if (response.ok) {\n              console.log('OAuth authentication successful:', data);\n              // Redirect to main app with user data\n              _expoRouter.router.replace('/');\n            } else {\n              console.error('OAuth authentication failed:', data);\n              _expoRouter.router.replace('/auth/login');\n            }\n          } catch (error) {\n            console.error('OAuth processing error:', error);\n            _expoRouter.router.replace('/auth/login');\n          }\n        });\n        return function processOAuthSession() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      processOAuthSession();\n    }, [session_id]);\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsxs)(_reactNative.View, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#4A90E2\"\n      }), /*#__PURE__*/(0, _reactJsxRuntime.jsx)(_reactNative.Text, {\n        style: styles.text,\n        children: \"Processing authentication...\"\n      })]\n    });\n  }\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#1a1a2e',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    text: {\n      color: 'white',\n      marginTop: 16,\n      fontSize: 16\n    }\n  });\n});","lineCount":92,"map":[[12,2,7,15,"Object"],[12,8,7,15],[12,9,7,15,"defineProperty"],[12,23,7,15],[12,24,7,15,"exports"],[12,31,7,15],[13,4,7,15,"enumerable"],[13,14,7,15],[14,4,7,15,"get"],[14,7,7,15],[14,18,7,15,"get"],[14,19,7,15],[15,6,7,15],[15,13,7,15,"AuthCallback"],[15,25,7,15],[16,4,7,15],[17,2,7,15],[18,2,57,1],[18,6,57,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,57,1],[18,45,57,1,"require"],[18,52,57,1],[18,53,57,1,"_dependencyMap"],[18,67,57,1],[19,2,57,1],[19,6,57,1,"_asyncToGenerator"],[19,23,57,1],[19,26,57,1,"_interopDefault"],[19,41,57,1],[19,42,57,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,57,1],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNative"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_expoRouter"],[22,17,3,0],[22,20,3,0,"require"],[22,27,3,0],[22,28,3,0,"_dependencyMap"],[22,42,3,0],[23,2,3,59],[23,6,3,59,"_reactJsxRuntime"],[23,22,3,59],[23,25,3,59,"require"],[23,32,3,59],[23,33,3,59,"_dependencyMap"],[23,47,3,59],[24,2,5,0],[24,6,5,6,"EXPO_PUBLIC_BACKEND_URL"],[24,29,5,29],[24,85,5,67],[25,2,7,15],[25,11,7,24,"AuthCallback"],[25,23,7,36,"AuthCallback"],[25,24,7,36],[25,26,7,39],[26,4,8,2],[26,8,8,8,"hasProcessed"],[26,20,8,20],[26,23,8,23],[26,27,8,23,"useRef"],[26,33,8,29],[26,34,8,29,"useRef"],[26,40,8,29],[26,42,8,30],[26,47,8,35],[26,48,8,36],[27,4,9,2],[27,8,9,2,"_useLocalSearchParams"],[27,29,9,2],[27,32,9,25],[27,36,9,25,"useLocalSearchParams"],[27,47,9,45],[27,48,9,45,"useLocalSearchParams"],[27,68,9,45],[27,70,9,46],[27,71,9,47],[28,6,9,10,"session_id"],[28,16,9,20],[28,19,9,20,"_useLocalSearchParams"],[28,40,9,20],[28,41,9,10,"session_id"],[28,51,9,20],[29,4,11,2],[29,8,11,2,"useEffect"],[29,14,11,11],[29,15,11,11,"useEffect"],[29,24,11,11],[29,26,11,12],[29,32,11,18],[30,6,12,4],[30,10,12,8,"hasProcessed"],[30,22,12,20],[30,23,12,21,"current"],[30,30,12,28],[30,32,12,30],[31,6,13,4,"hasProcessed"],[31,18,13,16],[31,19,13,17,"current"],[31,26,13,24],[31,29,13,27],[31,33,13,31],[32,6,15,4],[32,10,15,10,"processOAuthSession"],[32,29,15,29],[33,8,15,29],[33,12,15,29,"_ref"],[33,16,15,29],[33,23,15,29,"_asyncToGenerator"],[33,40,15,29],[33,41,15,29,"default"],[33,48,15,29],[33,50,15,32],[33,63,15,44],[34,10,16,6],[34,14,16,10],[34,15,16,11,"session_id"],[34,25,16,21],[34,27,16,23],[35,12,17,8,"console"],[35,19,17,15],[35,20,17,16,"error"],[35,25,17,21],[35,26,17,22],[35,47,17,43],[35,48,17,44],[36,12,18,8,"router"],[36,23,18,14],[36,24,18,14,"router"],[36,30,18,14],[36,31,18,15,"replace"],[36,38,18,22],[36,39,18,23],[36,52,18,36],[36,53,18,37],[37,12,19,8],[38,10,20,6],[39,10,22,6],[39,14,22,10],[40,12,23,8],[40,16,23,14,"response"],[40,24,23,22],[40,33,23,31,"fetch"],[40,38,23,36],[40,39,23,37],[40,42,23,40,"EXPO_PUBLIC_BACKEND_URL"],[40,65,23,63],[40,84,23,82],[40,86,23,84],[41,14,24,10,"method"],[41,20,24,16],[41,22,24,18],[41,28,24,24],[42,14,25,10,"headers"],[42,21,25,17],[42,23,25,19],[43,16,26,12],[43,30,26,26],[43,32,26,28,"session_id"],[43,42,26,48],[44,16,27,12],[44,30,27,26],[44,32,27,28],[45,14,28,10],[45,15,28,11],[46,14,29,10,"credentials"],[46,25,29,21],[46,27,29,23],[47,12,30,8],[47,13,30,9],[47,14,30,10],[48,12,32,8],[48,16,32,14,"data"],[48,20,32,18],[48,29,32,27,"response"],[48,37,32,35],[48,38,32,36,"json"],[48,42,32,40],[48,43,32,41],[48,44,32,42],[49,12,34,8],[49,16,34,12,"response"],[49,24,34,20],[49,25,34,21,"ok"],[49,27,34,23],[49,29,34,25],[50,14,35,10,"console"],[50,21,35,17],[50,22,35,18,"log"],[50,25,35,21],[50,26,35,22],[50,60,35,56],[50,62,35,58,"data"],[50,66,35,62],[50,67,35,63],[51,14,36,10],[52,14,37,10,"router"],[52,25,37,16],[52,26,37,16,"router"],[52,32,37,16],[52,33,37,17,"replace"],[52,40,37,24],[52,41,37,25],[52,44,37,28],[52,45,37,29],[53,12,38,8],[53,13,38,9],[53,19,38,15],[54,14,39,10,"console"],[54,21,39,17],[54,22,39,18,"error"],[54,27,39,23],[54,28,39,24],[54,58,39,54],[54,60,39,56,"data"],[54,64,39,60],[54,65,39,61],[55,14,40,10,"router"],[55,25,40,16],[55,26,40,16,"router"],[55,32,40,16],[55,33,40,17,"replace"],[55,40,40,24],[55,41,40,25],[55,54,40,38],[55,55,40,39],[56,12,41,8],[57,10,42,6],[57,11,42,7],[57,12,42,8],[57,19,42,15,"error"],[57,24,42,20],[57,26,42,22],[58,12,43,8,"console"],[58,19,43,15],[58,20,43,16,"error"],[58,25,43,21],[58,26,43,22],[58,51,43,47],[58,53,43,49,"error"],[58,58,43,54],[58,59,43,55],[59,12,44,8,"router"],[59,23,44,14],[59,24,44,14,"router"],[59,30,44,14],[59,31,44,15,"replace"],[59,38,44,22],[59,39,44,23],[59,52,44,36],[59,53,44,37],[60,10,45,6],[61,8,46,4],[61,9,46,5],[62,8,46,5],[62,24,15,10,"processOAuthSession"],[62,43,15,29,"processOAuthSession"],[62,44,15,29],[63,10,15,29],[63,17,15,29,"_ref"],[63,21,15,29],[63,22,15,29,"apply"],[63,27,15,29],[63,34,15,29,"arguments"],[63,43,15,29],[64,8,15,29],[65,6,15,29],[65,9,46,5],[66,6,48,4,"processOAuthSession"],[66,25,48,23],[66,26,48,24],[66,27,48,25],[67,4,49,2],[67,5,49,3],[67,7,49,5],[67,8,49,6,"session_id"],[67,18,49,16],[67,19,49,17],[67,20,49,18],[68,4,51,2],[68,24,52,4],[68,28,52,4,"_reactJsxRuntime"],[68,44,52,4],[68,45,52,4,"jsxs"],[68,49,52,4],[68,51,52,5,"_reactNative"],[68,63,52,9],[68,64,52,9,"View"],[68,68,52,9],[69,6,52,10,"style"],[69,11,52,15],[69,13,52,17,"styles"],[69,19,52,23],[69,20,52,24,"container"],[69,29,52,34],[70,6,52,34,"children"],[70,14,52,34],[70,30,53,6],[70,34,53,6,"_reactJsxRuntime"],[70,50,53,6],[70,51,53,6,"jsx"],[70,54,53,6],[70,56,53,7,"_reactNative"],[70,68,53,24],[70,69,53,24,"ActivityIndicator"],[70,86,53,24],[71,8,53,25,"size"],[71,12,53,29],[71,14,53,30],[71,21,53,37],[72,8,53,38,"color"],[72,13,53,43],[72,15,53,44],[73,6,53,53],[73,7,53,55],[73,8,53,56],[73,23,54,6],[73,27,54,6,"_reactJsxRuntime"],[73,43,54,6],[73,44,54,6,"jsx"],[73,47,54,6],[73,49,54,7,"_reactNative"],[73,61,54,11],[73,62,54,11,"Text"],[73,66,54,11],[74,8,54,12,"style"],[74,13,54,17],[74,15,54,19,"styles"],[74,21,54,25],[74,22,54,26,"text"],[74,26,54,31],[75,8,54,31,"children"],[75,16,54,31],[75,18,54,32],[76,6,54,60],[76,7,54,66],[76,8,54,67],[77,4,54,67],[77,5,55,10],[77,6,55,11],[78,2,57,0],[79,2,59,0],[79,6,59,6,"styles"],[79,12,59,12],[79,15,59,15,"StyleSheet"],[79,27,59,25],[79,28,59,25,"StyleSheet"],[79,38,59,25],[79,39,59,26,"create"],[79,45,59,32],[79,46,59,33],[80,4,60,2,"container"],[80,13,60,11],[80,15,60,13],[81,6,61,4,"flex"],[81,10,61,8],[81,12,61,10],[81,13,61,11],[82,6,62,4,"backgroundColor"],[82,21,62,19],[82,23,62,21],[82,32,62,30],[83,6,63,4,"justifyContent"],[83,20,63,18],[83,22,63,20],[83,30,63,28],[84,6,64,4,"alignItems"],[84,16,64,14],[84,18,64,16],[85,4,65,2],[85,5,65,3],[86,4,66,2,"text"],[86,8,66,6],[86,10,66,8],[87,6,67,4,"color"],[87,11,67,9],[87,13,67,11],[87,20,67,18],[88,6,68,4,"marginTop"],[88,15,68,13],[88,17,68,15],[88,19,68,17],[89,6,69,4,"fontSize"],[89,14,69,12],[89,16,69,14],[90,4,70,2],[91,2,71,0],[91,3,71,1],[91,4,71,2],[92,0,71,3],[92,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processOAuthSession"],"mappings":"AAA;eCM;YCI;gCCI;KD+B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}